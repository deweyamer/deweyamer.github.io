<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=Dewey.Amer><link href=../../../03/09/python-async/ rel=prev><link href=../../../05/22/prompt-optim/ rel=next><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>RAG-evaluate - What's wrong with you?</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#rag-evaluate class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="What's wrong with you?" class="md-header__button md-logo" aria-label="What's wrong with you?" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> What's wrong with you? </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> RAG-evaluate </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../../../photography/ class=md-tabs__link> Photography </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="What's wrong with you?" class="md-nav__button md-logo" aria-label="What's wrong with you?" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> What's wrong with you? </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../archive/2026/ class=md-nav__link> <span class=md-ellipsis> 2026 </span> </a> </li> <li class=md-nav__item> <a href=../../../../archive/2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class=md-nav__item> <a href=../../../../archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> <li class=md-nav__item> <a href=../../../../archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../category/conversations/ class=md-nav__link> <span class=md-ellipsis> Conversations </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/embedding/ class=md-nav__link> <span class=md-ellipsis> Embedding </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/philosophy/ class=md-nav__link> <span class=md-ellipsis> Philosophy </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/rag/ class=md-nav__link> <span class=md-ellipsis> RAG </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/sociology/ class=md-nav__link> <span class=md-ellipsis> Sociology </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../photography/ class=md-nav__link> <span class=md-ellipsis> Photography </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#categories-of-metrics class=md-nav__link> <span class=md-ellipsis> Categories of metrics: </span> </a> <nav class=md-nav aria-label="Categories of metrics:"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#metrics-based-on-the-ground-truth class=md-nav__link> <span class=md-ellipsis> Metrics based on the ground truth </span> </a> </li> <li class=md-nav__item> <a href=#metrics-without-the-ground-truth class=md-nav__link> <span class=md-ellipsis> Metrics without the ground truth </span> </a> </li> <li class=md-nav__item> <a href=#metrics-based-on-llm-response class=md-nav__link> <span class=md-ellipsis> Metrics based on LLM response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#rag-evaluate-tools class=md-nav__link> <span class=md-ellipsis> RAG evaluate tools </span> </a> <nav class=md-nav aria-label="RAG evaluate tools"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ragas class=md-nav__link> <span class=md-ellipsis> Ragas </span> </a> <nav class=md-nav aria-label=Ragas> <ul class=md-nav__list> <li class=md-nav__item> <a href=#core-concepts class=md-nav__link> <span class=md-ellipsis> Core Concepts </span> </a> </li> <li class=md-nav__item> <a href=#mddmetrics-driven-development class=md-nav__link> <span class=md-ellipsis> MDD(metrics-Driven Development) </span> </a> </li> <li class=md-nav__item> <a href=#metrics class=md-nav__link> <span class=md-ellipsis> Metrics </span> </a> <nav class=md-nav aria-label=Metrics> <ul class=md-nav__list> <li class=md-nav__item> <a href=#component-wise-evaluation class=md-nav__link> <span class=md-ellipsis> Component-Wise Evaluation </span> </a> </li> <li class=md-nav__item> <a href=#end-to-end-evaluationyou-must-have-ground-truth class=md-nav__link> <span class=md-ellipsis> End-to-End Evaluation(You must have ground truth) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#code class=md-nav__link> <span class=md-ellipsis> Code </span> </a> </li> <li class=md-nav__item> <a href=#prompt-objects class=md-nav__link> <span class=md-ellipsis> Prompt Objects </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trulen class=md-nav__link> <span class=md-ellipsis> TruLen </span> </a> <nav class=md-nav aria-label=TruLen> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rag-traid class=md-nav__link> <span class=md-ellipsis> RAG Traid </span> </a> <nav class=md-nav aria-label="RAG Traid"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#context-relevance class=md-nav__link> <span class=md-ellipsis> Context Relevance </span> </a> </li> <li class=md-nav__item> <a href=#groundtruthness class=md-nav__link> <span class=md-ellipsis> Groundtruthness </span> </a> </li> <li class=md-nav__item> <a href=#answer-relevance class=md-nav__link> <span class=md-ellipsis> Answer Relevance </span> </a> </li> <li class=md-nav__item> <a href=#put-it-together class=md-nav__link> <span class=md-ellipsis> Put it together </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#arize-ai-phoenix class=md-nav__link> <span class=md-ellipsis> Arize-AI Phoenix </span> </a> <nav class=md-nav aria-label="Arize-AI Phoenix"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tracing-and-eval class=md-nav__link> <span class=md-ellipsis> Tracing and eval </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reference class=md-nav__link> <span class=md-ellipsis> Reference </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://github.com/deweyamer.png alt=Dewey> </span> <span class=md-profile__description> <strong> Dewey </strong> <br> Creator </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg> <time datetime="2024-04-16 00:00:00+00:00" class=md-ellipsis>April 16, 2024</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg> <span class=md-ellipsis> in <a href=../../../../category/rag/ >RAG</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg> <span class=md-ellipsis> 10 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1 id=rag-evaluate>RAG-evaluate<a class=headerlink href=#rag-evaluate title="Permanent link">&para;</a></h1> <h2 id=categories-of-metrics>Categories of metrics:<a class=headerlink href=#categories-of-metrics title="Permanent link">&para;</a></h2> <ul> <li>Metrics based on the ground truth</li> <li>Metrics without the ground truth</li> <li>Metrics based on LLM response</li> </ul> <!-- more --> <h3 id=metrics-based-on-the-ground-truth>Metrics based on the ground truth<a class=headerlink href=#metrics-based-on-the-ground-truth title="Permanent link">&para;</a></h3> <p><strong>ground truth V.S. generated answer</strong></p> <ul> <li>answer semantic similarity</li> <li>answer correctness</li> </ul> <p><strong>ground truth V.S. relevant documents</strong></p> <ul> <li>exact match</li> <li>Rouge-L</li> <li>F1</li> </ul> <h3 id=metrics-without-the-ground-truth>Metrics without the ground truth<a class=headerlink href=#metrics-without-the-ground-truth title="Permanent link">&para;</a></h3> <p><strong>Query V.S. relevant documents V.S. generated answer</strong></p> <ul> <li><strong>Context relevance</strong>: Measures how well the retrieved context supports the query.</li> <li><strong>Groundedness</strong>: Assesses the extent to which the LLM's response aligns with the retrieved context.</li> <li><strong>Answer Relevance</strong>: Gauges the relevance of the final response to the query.</li> </ul> <h3 id=metrics-based-on-llm-response>Metrics based on LLM response<a class=headerlink href=#metrics-based-on-llm-response title="Permanent link">&para;</a></h3> <p>harmfulness, maliciousness, coherence, correctness, conciseness</p> <p><a href=https://python.langchain.com/docs/guides/productionization/evaluation/string/criteria_eval_chain/#custom-criteria>Langchain Critique</a></p> <h2 id=rag-evaluate-tools>RAG evaluate tools<a class=headerlink href=#rag-evaluate-tools title="Permanent link">&para;</a></h2> <h3 id=ragas>Ragas<a class=headerlink href=#ragas title="Permanent link">&para;</a></h3> <h4 id=core-concepts>Core Concepts<a class=headerlink href=#core-concepts title="Permanent link">&para;</a></h4> <ol> <li>Synthetically generate a diverse test dataset that you can use to evaluate your app.</li> <li>Use LLM-assisted evaluation metrics designed to help you objectively measure the performance of your application.</li> <li>Monitor the quality of your apps in production using smaller, cheaper models that can give actionable insights. For example, the number of hallucinations in the generated answer.</li> <li>Use these insights to iterate and improve your application.</li> </ol> <h4 id=mddmetrics-driven-development>MDD(metrics-Driven Development)<a class=headerlink href=#mddmetrics-driven-development title="Permanent link">&para;</a></h4> <p>While creating a fundamental LLM application may be straightforward, the challenge lies in its ongoing maintenance and continuous enhancements. Ragas’s vision is to facilitate the continuous improvement of LLM and RAG applications by embracing the ideology of Metrics-Driven Development(MDD).</p> <p>MDD is a product development approach that relies on data to make well-informed decisions. This approach entails the ongoing monitoring of essential metrics over time, providing valuable insights into an application’s performance.</p> <ul> <li>Evaluate: This enables you to assess LLM applications and conduct experiments in a metric-assisted manner, ensuring high dependability and reproducibility.</li> <li>Monitoring: It allows you to gain valuable and actionable insights from production data points, facilitating the continuous improvement of the quality of your LLM application.</li> </ul> <h4 id=metrics>Metrics<a class=headerlink href=#metrics title="Permanent link">&para;</a></h4> <h5 id=component-wise-evaluation>Component-Wise Evaluation<a class=headerlink href=#component-wise-evaluation title="Permanent link">&para;</a></h5> <ul> <li><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/faithfulness.html>Faithfulness</a></strong></li> </ul> <table> <thead> <tr> <th>Steps</th> <th>Examples</th> </tr> </thead> <tbody> <tr> <td>Step1: Break the generated answer into individual statements.</td> <td>Statements:Statement 1: “Einstein was born in Germany.”<br>Statement 2: “Einstein was born on 20<sup>th</sup> March 1879.”</td> </tr> <tr> <td>Step2: For each of the generated statements, verify if it can be inferred from the given context.</td> <td>Statement 1: Yes<br>Statement 2: No</td> </tr> <tr> <td>Step3: Use the formula depicted above to calculate faithfulness.</td> <td>Faithfulness = &frac12; = 0.5</td> </tr> </tbody> </table> <ul> <li><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/answer_relevance.html>Answer relevancy</a></strong></li> </ul> <table> <thead> <tr> <th>Steps</th> <th>Examples</th> </tr> </thead> <tbody> <tr> <td>Step1: Reverse-engineer ‘n’ of the question from the generated answer using a LLM. For instance, for the first answer, the LLM might generate the following possible questions:</td> <td>Question 1: “In which part of Europe is France located?”<br>Question 2: “What is the geographical location of France within Europe?”<br>Question 3: “Can you identify the region of Europe where France is situated?”</td> </tr> <tr> <td>Step2: Calculate the mean cosine similarity between the generated questions and the actual question.</td> <td></td> </tr> </tbody> </table> <ul> <li><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/context_recall.html>Context recall</a></strong></li> </ul> <table> <thead> <tr> <th>Steps</th> <th>Examples</th> </tr> </thead> <tbody> <tr> <td>Step1: Break the ground truth answer into individual statements</td> <td>Statements:<br>Statement 1: “France is in Western Europe.”<br>Statement 2: “Its capital is Paris.”</td> </tr> <tr> <td>Step2: For each individual statements, verify if it is can be attributed to the retrieved context.</td> <td>Statement 1: Yes <br>Statement 2: No</td> </tr> <tr> <td>Step3: Use the formula depicted above to calculate context recall.</td> <td>context recall = &frac12; = 0.5</td> </tr> </tbody> </table> <ul> <li><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/context_precision.html>Context precision</a></strong></li> </ul> <table> <thead> <tr> <th>Steps</th> <th>Examples</th> </tr> </thead> <tbody> <tr> <td>Step1: For each chunk in retrieval context, check if it is relevant or not relevant to arrive at the ground truth for the given question.</td> <td></td> </tr> <tr> <td>Step2: calculate precisionTOP@K for each chunk in the context</td> <td>precision@1 = 0/1 = 0<br>precision@2 = &frac12; = 0.5</td> </tr> <tr> <td>Step3: calculate the mean of precisionTOP@K to arrive at the final context precision score.</td> <td>context precision = (0+0.5)/1 = 0.5</td> </tr> </tbody> </table> <ul> <li><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/context_relevancy.html>Context relevancy</a></strong></li> </ul> <div class=arithmatex>\[ relevant\ score = \frac{relevant\ sentences}{total\ number\ of\ sentences\ in\ retrieved\ context} \]</div> <ul> <li><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/context_entities_recall.html>Context entity recall</a></strong></li> </ul> <table> <thead> <tr> <th>Steps</th> <th>Examples</th> </tr> </thead> <tbody> <tr> <td>Step1: Find entities present in the ground truth.</td> <td>• Entities in ground truth (GE) - [‘Taj Mahal’, ‘Yamuna’, ‘Agra’, ‘1631’, ‘Shah Jahan’, ‘Mumtaz Mahal’]</td> </tr> <tr> <td>Step2: Find entities present in the context.</td> <td>Entities in context (CE1) - [‘Taj Mahal’, ‘Agra’, ‘Shah Jahan’, ‘Mumtaz Mahal’, ‘India’]<br>Entities in context (CE2) - [‘Taj Mahal’, ‘UNESCO’, ‘India’]</td> </tr> <tr> <td>Step3: Use the formula given above to calculate entity-recall</td> <td></td> </tr> </tbody> </table> <div class=arithmatex>\[ context\ entity\ recall-1=\frac{|CE1 \cap GE|}{|GE|} = 4/6 = 0.666 \]</div> <div class=arithmatex>\[ context\ entity\ recall-2 = \frac{|CE2\cap GE|}{|GE|} = 1/6=0.1666 \]</div> <h5 id=end-to-end-evaluationyou-must-have-ground-truth>End-to-End Evaluation(You must have ground truth)<a class=headerlink href=#end-to-end-evaluationyou-must-have-ground-truth title="Permanent link">&para;</a></h5> <ul> <li> <p><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/semantic_similarity.html>Answer semantic similarity</a></strong></p> <p><strong>Step 1:</strong> Vectorize the ground truth answer using the specified embedding model.</p> <p><strong>Step 2:</strong> Vectorize the generated answer using the same embedding model.</p> <p><strong>Step 3:</strong> Compute the cosine similarity between the two vectors.</p> </li> <li> <p><strong><a href=https://docs.ragas.io/en/stable/concepts/metrics/answer_correctness.html>Answer correctness</a></strong></p> </li> </ul> <p>Calculate the the similarity between ground truth and generated answer, and calculate the F1-score.</p> <ul> <li>Aspect critique</li> </ul> <p>SUPPORTED_ASPECTS = [ harmfulness, maliciousness, coherence, correctness, conciseness, ]</p> <p><img alt=component-wise-metrics.webp src=../../../../RAG-evaluate/component-wise-metrics.webp></p> <h4 id=code>Code<a class=headerlink href=#code title="Permanent link">&para;</a></h4> <p>Load sample dataset <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># data</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span><span class=w> </span><span class=nn>datasets</span><span class=w> </span><span class=kn>import</span> <span class=n>load_dataset</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>amnesty_qa</span> <span class=o>=</span> <span class=n>load_dataset</span><span class=p>(</span><span class=s2>&quot;explodinggradients/amnesty_qa&quot;</span><span class=p>,</span> <span class=s2>&quot;english_v2&quot;</span><span class=p>)</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>DatasetDict({
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    baseline: Dataset({
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>        features: [&#39;question&#39;, &#39;ground_truth&#39;, &#39;answer&#39;, &#39;contexts&#39;],
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        num_rows: 30
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    })
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>})
</span></code></pre></div> Import metrics <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>from</span><span class=w> </span><span class=nn>ragas.metrics</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>context_precision</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>answer_relevancy</span><span class=p>,</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>faithfulness</span><span class=p>,</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>context_recall</span><span class=p>,</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=p>)</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=kn>from</span><span class=w> </span><span class=nn>ragas.metrics.critique</span><span class=w> </span><span class=kn>import</span> <span class=n>harmfulness</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=c1># list of metrics we&#39;re going to use</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=n>metrics</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    <span class=n>faithfulness</span><span class=p>,</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>    <span class=n>answer_relevancy</span><span class=p>,</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=n>context_recall</span><span class=p>,</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>    <span class=n>context_precision</span><span class=p>,</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>    <span class=n>harmfulness</span><span class=p>,</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=p>]</span>
</span></code></pre></div> configure Azure model <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kn>from</span><span class=w> </span><span class=nn>langchain_openai.chat_models</span><span class=w> </span><span class=kn>import</span> <span class=n>AzureChatOpenAI</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=kn>from</span><span class=w> </span><span class=nn>langchain_openai.embeddings</span><span class=w> </span><span class=kn>import</span> <span class=n>AzureOpenAIEmbeddings</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=kn>from</span><span class=w> </span><span class=nn>ragas</span><span class=w> </span><span class=kn>import</span> <span class=n>evaluate</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=n>azure_configs</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=s2>&quot;base_url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://&lt;your-endpoint&gt;.openai.azure.com/&quot;</span><span class=p>,</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>    <span class=s2>&quot;model_deployment&quot;</span><span class=p>:</span> <span class=s2>&quot;your-deployment-name&quot;</span><span class=p>,</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>    <span class=s2>&quot;model_name&quot;</span><span class=p>:</span> <span class=s2>&quot;your-model-name&quot;</span><span class=p>,</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=s2>&quot;embedding_deployment&quot;</span><span class=p>:</span> <span class=s2>&quot;your-deployment-name&quot;</span><span class=p>,</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=s2>&quot;embedding_name&quot;</span><span class=p>:</span> <span class=s2>&quot;text-embedding-ada-002&quot;</span><span class=p>,</span>  <span class=c1># most likely</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=p>}</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=n>azure_model</span> <span class=o>=</span> <span class=n>AzureChatOpenAI</span><span class=p>(</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>    <span class=n>openai_api_version</span><span class=o>=</span><span class=s2>&quot;2023-05-15&quot;</span><span class=p>,</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>    <span class=n>azure_endpoint</span><span class=o>=</span><span class=n>azure_configs</span><span class=p>[</span><span class=s2>&quot;base_url&quot;</span><span class=p>],</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>    <span class=n>azure_deployment</span><span class=o>=</span><span class=n>azure_configs</span><span class=p>[</span><span class=s2>&quot;model_deployment&quot;</span><span class=p>],</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>    <span class=n>model</span><span class=o>=</span><span class=n>azure_configs</span><span class=p>[</span><span class=s2>&quot;model_name&quot;</span><span class=p>],</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>    <span class=n>validate_base_url</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=p>)</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=c1># init the embeddings for answer_relevancy, answer_correctness and answer_similarity</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a><span class=n>azure_embeddings</span> <span class=o>=</span> <span class=n>AzureOpenAIEmbeddings</span><span class=p>(</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a>    <span class=n>openai_api_version</span><span class=o>=</span><span class=s2>&quot;2023-05-15&quot;</span><span class=p>,</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>    <span class=n>azure_endpoint</span><span class=o>=</span><span class=n>azure_configs</span><span class=p>[</span><span class=s2>&quot;base_url&quot;</span><span class=p>],</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a>    <span class=n>azure_deployment</span><span class=o>=</span><span class=n>azure_configs</span><span class=p>[</span><span class=s2>&quot;embedding_deployment&quot;</span><span class=p>],</span>
</span><span id=__span-3-26><a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a>    <span class=n>model</span><span class=o>=</span><span class=n>azure_configs</span><span class=p>[</span><span class=s2>&quot;embedding_name&quot;</span><span class=p>],</span>
</span><span id=__span-3-27><a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a><span class=p>)</span>
</span></code></pre></div> evaluate <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>result</span> <span class=o>=</span> <span class=n>evaluate</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>amnesty_qa</span><span class=p>[</span><span class=s2>&quot;eval&quot;</span><span class=p>],</span> <span class=n>metrics</span><span class=o>=</span><span class=n>metrics</span><span class=p>,</span> <span class=n>llm</span><span class=o>=</span><span class=n>azure_model</span><span class=p>,</span> <span class=n>embeddings</span><span class=o>=</span><span class=n>azure_embeddings</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=p>)</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=n>result</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>{&#39;faithfulness&#39;: 0.7083, &#39;answer_relevancy&#39;: 0.9416, &#39;context_recall&#39;: 0.7762, &#39;context_precision&#39;: 0.8000, &#39;harmfulness&#39;: 0.0000}
</span></code></pre></div></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>df</span> <span class=o>=</span> <span class=n>result</span><span class=o>.</span><span class=n>to_pandas</span><span class=p>()</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>df</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</span></code></pre></div> <table> <thead> <tr> <th>question</th> <th>ground_truth</th> <th>answer</th> <th>contexts</th> <th>faithfulness</th> <th>answer_relevancy</th> <th>context_recall</th> <th>context_precision</th> <th>harmfulness</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>How to deposit a cheque issued to an associate...</td> <td>[Have the check reissued to the proper payee.J...</td> <td>\nThe best way to deposit a cheque issued to a...</td> <td>[Just have the associate sign the back and the...</td> <td>1.0</td> <td>0.982491</td> <td>0.888889</td> <td>1.0</td> </tr> <tr> <td>1</td> <td>Can I send a money order from USPS as a business?</td> <td>[Sure you can. You can fill in whatever you w...</td> <td>\nYes, you can send a money order from USPS as...</td> <td>[Sure you can. You can fill in whatever you w...</td> <td>1.0</td> <td>0.995249</td> <td>1.000000</td> <td>1.0</td> </tr> </tbody> </table> <h4 id=prompt-objects>Prompt Objects<a class=headerlink href=#prompt-objects title="Permanent link">&para;</a></h4> <ul> <li>Automatic Prompt Adaption: 根据输入语言自动调整prompt语言</li> <li>Synthetic test data generation: 合成测试数据</li> </ul> <h3 id=trulen>TruLen<a class=headerlink href=#trulen title="Permanent link">&para;</a></h3> <h4 id=rag-traid>RAG Traid<a class=headerlink href=#rag-traid title="Permanent link">&para;</a></h4> <p>The RAG Traid is made up of 3 evaluations: context relevance, groundtruthness and answer relevance.</p> <p><img alt=RAG_Triad.jpg src=../../../../RAG-evaluate/RAG_Triad.jpg></p> <h5 id=context-relevance>Context Relevance<a class=headerlink href=#context-relevance title="Permanent link">&para;</a></h5> <p>The first step of any RAG application is retrieval; to verify the quality of our retrieval, we want to make sure that each chunk of context is relevant to the input query. This is critical because this context will be used by the LLM to form an answer, so any irrelevant information in the context could be weaved into a hallucination. TruLens enables you to evaluate context relevance by using the structure of the serialized record.</p> <h5 id=groundtruthness>Groundtruthness<a class=headerlink href=#groundtruthness title="Permanent link">&para;</a></h5> <p>After the context is retrieved, it is then formed into an answer by an LLM. LLMs are often prone to stray from the facts provided, exaggerating or expanding to a correct-sounding answer. To verify the groundedness of our application, we can separate the response into individual claims and independently search for evidence that supports each within the retrieved context.</p> <h5 id=answer-relevance>Answer Relevance<a class=headerlink href=#answer-relevance title="Permanent link">&para;</a></h5> <p>Last, our response still needs to helpfully answer the original question. We can verify this by evaluating the relevance of the final response to the user input.</p> <h5 id=put-it-together>Put it together<a class=headerlink href=#put-it-together title="Permanent link">&para;</a></h5> <p>By reaching satisfactory evaluations for this triad, we can make a nuanced statement about our application’s correctness; our application is verified to be hallucination free up to the limit of its knowledge base. In other words, if the vector database contains only accurate information, then the answers provided by the RAG are also accurate.</p> <h3 id=arize-ai-phoenix>Arize-AI Phoenix<a class=headerlink href=#arize-ai-phoenix title="Permanent link">&para;</a></h3> <p>Phoenix is an open-source observability library designed for experimentation, evaluation, and troubleshooting. It allows AI Engineers and Data Scientists to quickly visualize their data, evaluate performance, track down issues, and export data to improve.</p> <h4 id=tracing-and-eval>Tracing and eval<a class=headerlink href=#tracing-and-eval title="Permanent link">&para;</a></h4> <p><img alt=Untitled src=../../../../RAG-evaluate/Untitled.png></p> <h2 id=reference>Reference<a class=headerlink href=#reference title="Permanent link">&para;</a></h2> <ol> <li><a href=https://zilliz.com/blog/how-to-evaluate-retrieval-augmented-generation-rag-applications>https://zilliz.com/blog/how-to-evaluate-retrieval-augmented-generation-rag-applications</a></li> <li><a href=https://techcommunity.microsoft.com/t5/microsoft-developer-community/evaluating-rag-applications-with-azureml-model-evaluation/ba-p/4108603>https://techcommunity.microsoft.com/t5/microsoft-developer-community/evaluating-rag-applications-with-azureml-model-evaluation/ba-p/4108603</a></li> <li><a href=https://www.rungalileo.io/blog/mastering-rag-llm-prompting-techniques-for-reducing-hallucinations#expertprompting>https://www.rungalileo.io/blog/mastering-rag-llm-prompting-techniques-for-reducing-hallucinations#expertprompting</a></li> <li><a href=https://huggingface.co/learn/cookbook/rag_evaluation>https://huggingface.co/learn/cookbook/rag_evaluation</a></li> </ol> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 ~ now | Dewey Amer </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.expand", "navigation.indexes", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../../../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>