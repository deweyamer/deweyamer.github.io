<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=Dewey.Amer><link href=../2025/ rel=prev><link href=../2023/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.21"><title>2024 - What's wrong with you?</title><link rel=stylesheet href=../../../assets/stylesheets/main.2a3383ac.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#2024 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="What's wrong with you?" class="md-header__button md-logo" aria-label="What's wrong with you?" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> What's wrong with you? </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 2024 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../photography/ class=md-tabs__link> Photography </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="What's wrong with you?" class="md-nav__button md-logo" aria-label="What's wrong with you?" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> What's wrong with you? </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 2024 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 2024 </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#query-understanding class=md-nav__link> <span class=md-ellipsis> Query understanding </span> </a> </li> <li class=md-nav__item> <a href=#how-to-manage-chat-history-for-your-chatbot class=md-nav__link> <span class=md-ellipsis> How to manage chat history for your chatbot? </span> </a> </li> <li class=md-nav__item> <a href=#embedding-fine-tuning class=md-nav__link> <span class=md-ellipsis> Embedding fine-tuning </span> </a> </li> <li class=md-nav__item> <a href=#prompt-optim class=md-nav__link> <span class=md-ellipsis> Prompt Optim </span> </a> </li> <li class=md-nav__item> <a href=#rag-evaluate class=md-nav__link> <span class=md-ellipsis> RAG-evaluate </span> </a> </li> <li class=md-nav__item> <a href=#python-async class=md-nav__link> <span class=md-ellipsis> Python Async </span> </a> </li> <li class=md-nav__item> <a href=#gptrag class=md-nav__link> <span class=md-ellipsis> 漫谈GPT&amp;RAG </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../category/conversations/ class=md-nav__link> <span class=md-ellipsis> Conversations </span> </a> </li> <li class=md-nav__item> <a href=../../category/embedding/ class=md-nav__link> <span class=md-ellipsis> Embedding </span> </a> </li> <li class=md-nav__item> <a href=../../category/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../category/rag/ class=md-nav__link> <span class=md-ellipsis> RAG </span> </a> </li> <li class=md-nav__item> <a href=../../category/sociology/ class=md-nav__link> <span class=md-ellipsis> Sociology </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../photography/ class=md-nav__link> <span class=md-ellipsis> Photography </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#query-understanding class=md-nav__link> <span class=md-ellipsis> Query understanding </span> </a> </li> <li class=md-nav__item> <a href=#how-to-manage-chat-history-for-your-chatbot class=md-nav__link> <span class=md-ellipsis> How to manage chat history for your chatbot? </span> </a> </li> <li class=md-nav__item> <a href=#embedding-fine-tuning class=md-nav__link> <span class=md-ellipsis> Embedding fine-tuning </span> </a> </li> <li class=md-nav__item> <a href=#prompt-optim class=md-nav__link> <span class=md-ellipsis> Prompt Optim </span> </a> </li> <li class=md-nav__item> <a href=#rag-evaluate class=md-nav__link> <span class=md-ellipsis> RAG-evaluate </span> </a> </li> <li class=md-nav__item> <a href=#python-async class=md-nav__link> <span class=md-ellipsis> Python Async </span> </a> </li> <li class=md-nav__item> <a href=#gptrag class=md-nav__link> <span class=md-ellipsis> 漫谈GPT&amp;RAG </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <div class=md-content__inner> <header class=md-typeset> <h1 id=2024>2024<a class=headerlink href=#2024 title="Permanent link">&para;</a></h1> </header> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/deweyamer.png alt=Dewey> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2024-08-01 00:00:00+00:00">August 1, 2024</time></li> <li class=md-meta__item> in <a href=../../category/rag/ class=md-meta__link>RAG</a></li> <li class=md-meta__item> 11 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=query-understanding><a href=../../2024/08/01/query-understanding/ class=toclink>Query understanding</a></h2> <p>Query understanding is a complicated issue. It involves not only processing the query itself but also the procedure for constructing data indexes and retrieval.</p> <p>So, I will follow these steps:</p> <ul> <li>Constructing data indexes</li> <li>Retrieval</li> <li>Query understanding</li> </ul> <nav class=md-post__action> <a href=../../2024/08/01/query-understanding/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/deweyamer.png alt=Dewey> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2024-07-13 00:00:00+00:00">July 13, 2024</time></li> <li class=md-meta__item> in <a href=../../category/rag/ class=md-meta__link>RAG</a>, <a href=../../category/conversations/ class=md-meta__link>Conversations</a></li> <li class=md-meta__item> 7 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=how-to-manage-chat-history-for-your-chatbot><a href=../../2024/07/13/how-to-manage-chat-history-for-your-chatbot/ class=toclink>How to manage chat history for your chatbot?</a></h2> <h3 id=task-introduction><a class=toclink href=../../2024/07/13/how-to-manage-chat-history-for-your-chatbot/#task-introduction>Task Introduction</a></h3> <p>引入多轮对话的目的在于，尽量降低token的消耗，chatbot可以结合历史会话达到更好的效果。可以考虑到，token的消耗以及最相关的chat history是解决这一问题需要平衡的两面。</p> <h3 id=some-approaches-to-solving-the-problem><a class=toclink href=../../2024/07/13/how-to-manage-chat-history-for-your-chatbot/#some-approaches-to-solving-the-problem>Some approaches to solving the problem</a></h3> <p>有以下几种方法处理chat history</p> <table> <thead> <tr> <th></th> <th>pros</th> <th>cons</th> </tr> </thead> <tbody> <tr> <td>default</td> <td>1. 完整的存储chat history2. 最简单直接</td> <td>1. token消耗巨大，时延巨大2. 达到LLm token limit，无法记住超过限制的对话</td> </tr> <tr> <td>summarizing</td> <td>1. 缩短了chat history的token数量2. 可以容纳更长的对话轮次3. 相对直接的视线，简单易懂</td> <td>1. chat history完全依赖于LLM的摘要能力，2. 需要使用LLM对chat history摘要（消耗token）</td> </tr> <tr> <td>memory</td> <td>1. 具备近期完整的chat history</td> <td>1. 久远的chat history没有保留</td> </tr> <tr> <td>trunk &amp; retrieval</td> <td>1. token消耗少2. 选择最相关的chat history chunk</td> <td>1. 不是完整的chat history，存在语义偏差2. 可能错过最近的chat history</td> </tr> </tbody> </table> <nav class=md-post__action> <a href=../../2024/07/13/how-to-manage-chat-history-for-your-chatbot/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/deweyamer.png alt=Dewey> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2024-06-01 00:00:00+00:00">June 1, 2024</time></li> <li class=md-meta__item> in <a href=../../category/rag/ class=md-meta__link>RAG</a>, <a href=../../category/embedding/ class=md-meta__link>Embedding</a></li> <li class=md-meta__item> 12 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=embedding-fine-tuning><a href=../../2024/06/01/embedding-fine-tuning/ class=toclink>Embedding fine-tuning</a></h2> <p>Tags: Embedding</p> <h3 id=semantic-search><a class=toclink href=../../2024/06/01/embedding-fine-tuning/#semantic-search>Semantic search</a></h3> <h4 id=symmetric-vs-asymmetric-semantic-search><a class=toclink href=../../2024/06/01/embedding-fine-tuning/#symmetric-vs-asymmetric-semantic-search><strong>Symmetric vs. Asymmetric Semantic Search</strong></a></h4> <ul> <li>对称语义搜索指的是query和语料中的实体存在交叉（句式，单词）。例子：基于当前的问题去搜索相似的问题，比如：如何在线学习Python？它也可以是：如何在网上学习Python？</li> <li>非对称语义搜索通常是，从一个query检索得到一段较长的语料。例如：什么是Python？你想要的结果是Python的具体定义，比如：Python是可解释的高级编程语言…。对于非对称任务，query和语料通常不存在交叉（句式，单词）。</li> </ul> <nav class=md-post__action> <a href=../../2024/06/01/embedding-fine-tuning/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/deweyamer.png alt=Dewey> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2024-05-22 00:00:00+00:00">May 22, 2024</time></li> <li class=md-meta__item> in <a href=../../category/rag/ class=md-meta__link>RAG</a></li> <li class=md-meta__item> 10 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=prompt-optim><a href=../../2024/05/22/prompt-optim/ class=toclink>Prompt Optim</a></h2> <h3 id=prompt><a class=toclink href=../../2024/05/22/prompt-optim/#prompt>Prompt结构化</a></h3> <ul> <li>语法<ul> <li>这个结构支持 <code>Markdown</code> 语法, 也支持 YAML 语法, 甚至纯文本手动敲空格和回车都可以. 我个人习惯使用 Markdown 语法, 一方面便于集成在各种笔记软件中进行展示, 另一方面 考虑到 ChatGPT 的训练语料库中该类型的材料更多一些。</li> </ul> </li> <li> <p>结构</p> <p>结构中的信息, 可以根据自己需要进行增减, 从中总结的常用模块包括:</p> <ul> <li><strong># Role: <name> :</strong> 指定角色会让 GPT 聚焦在对应领域进行信息输出</li> <li><strong>## Profile author/version/description :</strong> Credit 和 迭代版本记录</li> <li><strong>## Goals:</strong> 一句话描述 Prompt 目标, 让 GPT Attention 聚焦起来</li> <li><strong>## Constrains:</strong> 描述限制条件, 其实是在帮 GPT 进行剪枝, 减少不必要分支的计算</li> <li><strong>## Skills:</strong> 描述技能项, 强化对应领域的信息权重</li> <li><strong>## Workflow:</strong> 重点中的重点, 你希望 Prompt 按什么方式来对话和输出</li> <li><strong># Initialization:</strong> 冷启动时的对白, 也是一个强调需注意重点的机会</li> <li><strong># Output Format:</strong> 输出内容的格式</li> </ul> </li> </ul> <nav class=md-post__action> <a href=../../2024/05/22/prompt-optim/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/deweyamer.png alt=Dewey> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2024-04-16 00:00:00+00:00">April 16, 2024</time></li> <li class=md-meta__item> in <a href=../../category/rag/ class=md-meta__link>RAG</a></li> <li class=md-meta__item> 10 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=rag-evaluate><a href=../../2024/04/16/rag-evaluate/ class=toclink>RAG-evaluate</a></h2> <h3 id=categories-of-metrics><a class=toclink href=../../2024/04/16/rag-evaluate/#categories-of-metrics>Categories of metrics:</a></h3> <ul> <li>Metrics based on the ground truth</li> <li>Metrics without the ground truth</li> <li>Metrics based on LLM response</li> </ul> <nav class=md-post__action> <a href=../../2024/04/16/rag-evaluate/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/deweyamer.png alt=Dewey> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2024-03-09 00:00:00+00:00">March 9, 2024</time></li> <li class=md-meta__item> in <a href=../../category/python/ class=md-meta__link>Python</a></li> <li class=md-meta__item> 15 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=python-async><a href=../../2024/03/09/python-async/ class=toclink>Python Async</a></h2> <h3 id=parallelism-vs-threading><a class=toclink href=../../2024/03/09/python-async/#parallelism-vs-threading>Parallelism V.S. Threading</a></h3> <p>进程（Process）和线程（Thread）是计算机科学中重要的概念，它们用于管理计算机执行任务的方式。它们之间的主要区别在于它们管理资源的方式和执行任务的方式。</p> <ol> <li><strong>进程（Process）</strong><ul> <li>进程是操作系统分配资源的基本单位。它包含了程序代码、数据以及程序执行时所需的各种系统资源（如内存空间、文件句柄等）。</li> <li>每个进程都有自己独立的内存空间，一个进程不能直接访问另一个进程的内存。</li> <li>进程之间的切换开销相对较高，因为切换进程需要保存和恢复整个进程的状态。</li> <li>进程之间通常是相互独立的，它们通过进程间通信（IPC）来进行数据交换。</li> </ul> </li> <li><strong>线程（Thread）</strong><ul> <li>线程是进程内部的执行单元。一个进程可以包含多个线程，它们共享进程的资源（如内存空间、文件句柄等）。</li> <li>线程之间共享相同的内存空间，因此可以直接访问同一进程内的数据。</li> <li>线程之间切换的开销较低，因为线程共享同一进程的地址空间，切换时只需保存和恢复少量的线程状态。</li> <li>由于线程共享同一进程的资源，线程之间的同步和通信更加容易和高效。</li> </ul> </li> </ol> <nav class=md-post__action> <a href=../../2024/03/09/python-async/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/deweyamer.png alt=Dewey> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2024-01-31 00:00:00+00:00">January 31, 2024</time></li> <li class=md-meta__item> in <a href=../../category/rag/ class=md-meta__link>RAG</a></li> <li class=md-meta__item> 10 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=gptrag><a href=../../2024/01/31/%E6%BC%AB%E8%B0%88gptrag/ class=toclink>漫谈GPT&amp;RAG</a></h2> <h3 id=chatgpt><a class=toclink href=../../2024/01/31/%E6%BC%AB%E8%B0%88gptrag/#chatgpt>ChatGPT漫谈</a></h3> <p>由于其超大的参数量以及训练方式，大语言模型具备了更强的语义理解能力，一方面，它现在成为了对话机器人的最佳实践方式，另一方面，在基本的NLP任务中表现出了极强的能力。</p> <p>现阶段，有两种成本较低的方式可以提高大模型在特定任务或特定领域的能力</p> <ol> <li>调优Prompt，这是最具性价比的调整方式。</li> <li>SFT。针对特定任务，特定领域，对大模型微调。</li> </ol> <p>虽然大模型的能力十分惊艳，但是它也有一些问题亟待解决。首先是大模型生成的结果并不置信（幻觉Hallucination），其次，如果没有对齐人类价值观（Alignment），大模型会生成一些有害的回答，然后是安全问题：比如大模型如何避免被劫持，生成有害的回答，以及生成数据的版权问题。</p> <nav class=md-post__action> <a href=../../2024/01/31/%E6%BC%AB%E8%B0%88gptrag/ > Continue reading </a> </nav> </div> </article> <nav class=md-pagination> </nav> </div> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 ~ now | Dewey Amer </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.expand", "navigation.indexes", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>